<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="Index.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.12.1/jquery-ui.structure.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.12.1/jquery-ui.theme.min.css">
    <script src="https://code.jquery.com/jquery-3.5.1.min.js"
    integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0="
    crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js"></script>
    <script type="text/javascript">
    count=0;
    function pad(n) {
        n = n + '';
        return n.length >= 2 ? n : new Array(2 - n.length + 1).join(0) + n;
    }
    function getTime(s){
        var hour=pad(Math.floor(s/3600));
        var t=s%3600;
        var min=pad(Math.floor(t/60));
        var sec=pad(t%60);
        return (hour+":"+min+":"+sec);
    }
    function timer(){
        document.getElementById("timer").innerHTML=getTime(count);
        count++;
    }
    var myvar=setInterval(timer,1000);
    var arr=[
        [0,0,0,8,0,0,0,0,0],
        [7,8,9,0,1,0,0,0,6],
        [0,0,0,0,0,6,1,0,0],
        [0,0,7,0,0,0,0,5,0],
        [5,0,8,7,0,9,3,0,4],
        [0,4,0,0,0,0,2,0,0],
        [0,0,3,2,0,0,0,0,0],
        [8,0,0,0,7,0,4,3,9],
        [0,0,0,0,0,1,0,0,0],
    ]
    var fin=[
        [1,6,5,8,4,7,9,2,3],
        [7,8,9,3,1,2,5,4,6],
        [4,3,2,5,9,6,1,7,8],
        [2,9,7,4,6,3,8,5,1],
        [5,1,8,7,2,9,3,6,4],
        [3,4,6,1,5,8,2,9,7],
        [9,7,3,2,8,4,6,1,5],
        [8,2,1,6,7,5,4,3,9],
        [6,5,4,9,3,1,7,8,2],
    ]
    function fun1(){
        arr[0][0]=parseInt(document.getElementById("1").value);
        arr[0][1]=parseInt(document.getElementById("2").value);
        arr[0][2]=parseInt(document.getElementById("3").value);
        arr[0][4]=parseInt(document.getElementById("4").value);
        arr[0][5]=parseInt(document.getElementById("5").value);
        arr[0][6]=parseInt(document.getElementById("6").value);
        arr[0][7]=parseInt(document.getElementById("7").value);
        arr[0][8]=parseInt(document.getElementById("8").value);
        arr[1][3]=parseInt(document.getElementById("9").value);
        arr[1][5]=parseInt(document.getElementById("10").value);
        arr[1][6]=parseInt(document.getElementById("11").value);
        arr[1][7]=parseInt(document.getElementById("12").value);
        arr[2][0]=parseInt(document.getElementById("13").value);
        arr[2][1]=parseInt(document.getElementById("14").value);
        arr[2][2]=parseInt(document.getElementById("15").value);
        arr[2][3]=parseInt(document.getElementById("16").value);
        arr[2][4]=parseInt(document.getElementById("17").value);
        arr[2][7]=parseInt(document.getElementById("18").value);
        arr[2][8]=parseInt(document.getElementById("19").value);
        arr[3][0]=parseInt(document.getElementById("20").value);
        arr[3][1]=parseInt(document.getElementById("21").value);
        arr[3][3]=parseInt(document.getElementById("22").value);
        arr[3][4]=parseInt(document.getElementById("23").value);
        arr[3][5]=parseInt(document.getElementById("24").value);
        arr[3][6]=parseInt(document.getElementById("25").value);
        arr[3][8]=parseInt(document.getElementById("26").value);
        arr[4][1]=parseInt(document.getElementById("27").value);
        arr[4][4]=parseInt(document.getElementById("28").value);
        arr[4][7]=parseInt(document.getElementById("29").value);
        arr[5][0]=parseInt(document.getElementById("30").value);
        arr[5][2]=parseInt(document.getElementById("31").value);
        arr[5][3]=parseInt(document.getElementById("32").value);
        arr[5][4]=parseInt(document.getElementById("33").value);
        arr[5][5]=parseInt(document.getElementById("34").value);
        arr[5][7]=parseInt(document.getElementById("35").value);
        arr[5][8]=parseInt(document.getElementById("36").value);
        arr[6][0]=parseInt(document.getElementById("37").value);
        arr[6][1]=parseInt(document.getElementById("38").value);
        arr[6][4]=parseInt(document.getElementById("39").value);
        arr[6][5]=parseInt(document.getElementById("40").value);
        arr[6][6]=parseInt(document.getElementById("41").value);
        arr[6][7]=parseInt(document.getElementById("42").value);
        arr[6][8]=parseInt(document.getElementById("43").value);
        arr[7][1]=parseInt(document.getElementById("44").value);
        arr[7][2]=parseInt(document.getElementById("45").value);
        arr[7][3]=parseInt(document.getElementById("46").value);
        arr[7][5]=parseInt(document.getElementById("47").value);
        arr[8][0]=parseInt(document.getElementById("48").value);
        arr[8][1]=parseInt(document.getElementById("49").value);
        arr[8][2]=parseInt(document.getElementById("50").value);
        arr[8][3]=parseInt(document.getElementById("51").value);
        arr[8][4]=parseInt(document.getElementById("52").value);
        arr[8][6]=parseInt(document.getElementById("53").value);
        arr[8][7]=parseInt(document.getElementById("54").value);
        arr[8][8]=parseInt(document.getElementById("55").value);
        if(isSolved(arr))
        {
            document.getElementById("ps2").innerHTML="AWESOME GREAT JOB!!!"
            $("#submit2").dialog({
                title:"Submit",
                draggable:false,
                resizeable:false,
                modal:true
            })
            clearInterval(myvar);
            document.getElementById("timer").innerHTML=getTime(count);
        }
        else
        {
            document.getElementById("ps1").innerHTML="OOPS!!! PLEASE TRY AGAIN"
            $("#submit1").dialog({
                title:"Submit",
                draggable:false,
                resizeable:false,
                modal:true
            })
        }
    }
    function check(arr)
    {
        arr[0][0]=parseInt(document.getElementById("1").value);
        arr[0][1]=parseInt(document.getElementById("2").value);
        arr[0][2]=parseInt(document.getElementById("3").value);
        arr[0][4]=parseInt(document.getElementById("4").value);
        arr[0][5]=parseInt(document.getElementById("5").value);
        arr[0][6]=parseInt(document.getElementById("6").value);
        arr[0][7]=parseInt(document.getElementById("7").value);
        arr[0][8]=parseInt(document.getElementById("8").value);
        arr[1][3]=parseInt(document.getElementById("9").value);
        arr[1][5]=parseInt(document.getElementById("10").value);
        arr[1][6]=parseInt(document.getElementById("11").value);
        arr[1][7]=parseInt(document.getElementById("12").value);
        arr[2][0]=parseInt(document.getElementById("13").value);
        arr[2][1]=parseInt(document.getElementById("14").value);
        arr[2][2]=parseInt(document.getElementById("15").value);
        arr[2][3]=parseInt(document.getElementById("16").value);
        arr[2][4]=parseInt(document.getElementById("17").value);
        arr[2][7]=parseInt(document.getElementById("18").value);
        arr[2][8]=parseInt(document.getElementById("19").value);
        arr[3][0]=parseInt(document.getElementById("20").value);
        arr[3][1]=parseInt(document.getElementById("21").value);
        arr[3][3]=parseInt(document.getElementById("22").value);
        arr[3][4]=parseInt(document.getElementById("23").value);
        arr[3][5]=parseInt(document.getElementById("24").value);
        arr[3][6]=parseInt(document.getElementById("25").value);
        arr[3][8]=parseInt(document.getElementById("26").value);
        arr[4][1]=parseInt(document.getElementById("27").value);
        arr[4][4]=parseInt(document.getElementById("28").value);
        arr[4][7]=parseInt(document.getElementById("29").value);
        arr[5][0]=parseInt(document.getElementById("30").value);
        arr[5][2]=parseInt(document.getElementById("31").value);
        arr[5][3]=parseInt(document.getElementById("32").value);
        arr[5][4]=parseInt(document.getElementById("33").value);
        arr[5][5]=parseInt(document.getElementById("34").value);
        arr[5][7]=parseInt(document.getElementById("35").value);
        arr[5][8]=parseInt(document.getElementById("36").value);
        arr[6][0]=parseInt(document.getElementById("37").value);
        arr[6][1]=parseInt(document.getElementById("38").value);
        arr[6][4]=parseInt(document.getElementById("39").value);
        arr[6][5]=parseInt(document.getElementById("40").value);
        arr[6][6]=parseInt(document.getElementById("41").value);
        arr[6][7]=parseInt(document.getElementById("42").value);
        arr[6][8]=parseInt(document.getElementById("43").value);
        arr[7][1]=parseInt(document.getElementById("44").value);
        arr[7][2]=parseInt(document.getElementById("45").value);
        arr[7][3]=parseInt(document.getElementById("46").value);
        arr[7][5]=parseInt(document.getElementById("47").value);
        arr[8][0]=parseInt(document.getElementById("48").value);
        arr[8][1]=parseInt(document.getElementById("49").value);
        arr[8][2]=parseInt(document.getElementById("50").value);
        arr[8][3]=parseInt(document.getElementById("51").value);
        arr[8][4]=parseInt(document.getElementById("52").value);
        arr[8][6]=parseInt(document.getElementById("53").value);
        arr[8][7]=parseInt(document.getElementById("54").value);
        arr[8][8]=parseInt(document.getElementById("55").value);
        for(let i=0;i<9;i++)
        {
            let s=get_row(arr,i);
            console.log(s)
            if(hasDuplicates(s))
            {
                document.getElementById("pc2").innerHTML="OOPS! PLEASE CHECK ROW "+(parseInt(i)+1)
                $("#check2").dialog({
                title:"Check",
                draggable:false,
                resizeable:false,
                modal:true
            })
                return false;
            }
        }
        for(let i=0;i<9;i++)
        {
            let s=get_column(arr,i);
            if(hasDuplicates(s))
            {
                document.getElementById("pc2").innerHTML="OOPS! PLEASE CHECK COLUMN "+(parseInt(i)+1)
                $("#check2").dialog({
                title:"Check",
                draggable:false,
                resizeable:false,
                modal:true
            })
                return false;
            }
        }
        for(let i=0;i<=6;i+=3)
        {
            for(let j=0;j<=6;j+=3)
            {
                let s=get_square(arr,i,j);
                if(hasDuplicates(s))
                {
                    document.getElementById("pc2").innerHTML="OOPS! PLEASE CHECK BOX "+get_cordinate(i,j)
                $("#check2").dialog({
                title:"Check",
                draggable:false,
                resizeable:false,
                modal:true
            })
                    return false;
                }
            }
        }
        return true;
    }
    function fun2(){
        if(check(arr)){
        document.getElementById("pc1").innerHTML="YOU ARE AWESOME!!! GO AHEAD"
            $("#check1").dialog({
                title:"Check",
                draggable:false,
                resizeable:false,
                modal:true
            })
        }
    }
    function hasDuplicates(arr) {
    var counts = [];

    for (var i = 0; i <= arr.length; i++) {
        if (counts[arr[i]] === undefined) {
            counts[arr[i]] = 1;
        } else {
            return true;
        }
    }
    return false;
}
    function isSolved(arr)
    {
    if(JSON.stringify(arr)==JSON.stringify(fin))
    return true;
    else
    return false;       
    }
    var reg=/^[1-9]$/
    function get_row(arr,row)
    {
        let v=[];
        for(let i=0;i<9;i++)
        {
            if(reg.test(arr[row][i]))
            v.push(arr[row][i]);
        }
        v.sort();
        return v;
    }
    function get_column(arr,column)
    {
        let col=[]
        for(let i=0;i<9;i++)
        {
            if(reg.test(arr[i][column]))
            col.push(arr[i][column]);
        }
        col.sort();
        return col;
    }
    function get_square(arr,row,column)
    {
        let v=get_cordinate(row,column);
        let ar1=[];
        if(v==1)
        {
            for(let i=0;i<3;i++)
            {
                for(let j=0;j<3;j++)
                {
                    if(reg.test(arr[i][j]))
                    ar1.push(arr[i][j]);
                }
            }
        }
        else if(v==2)
        {
            for(let i=0;i<3;i++)
            {
                for(let j=3;j<6;j++)
                {
                    if(reg.test(arr[i][j]))
                    ar1.push(arr[i][j]);
                }
            }
        }
        else if(v==3)
        {
            for(let i=0;i<3;i++)
            {
                for(let j=6;j<9;j++)
                {
                    if(reg.test(arr[i][j]))
                    ar1.push(arr[i][j]);
                }
            }
        }
        else if(v==4)
        {
            for(let i=3;i<6;i++)
            {
                for(let j=0;j<3;j++)
                {
                    if(reg.test(arr[i][j]))
                    ar1.push(arr[i][j]);
                }
            }
        }
        else if(v==5)
        {
            for(let i=3;i<6;i++)
            {
                for(let j=3;j<6;j++)
                {
                    if(reg.test(arr[i][j]))
                    ar1.push(arr[i][j]);
                }
            }
        }
        else if(v==6)
        {
            for(let i=3;i<6;i++)
            {
                for(let j=6;j<9;j++)
                {
                    if(reg.test(arr[i][j]))
                    ar1.push(arr[i][j]);
                }
            }
        }
        else if(v==7)
        {
            for(let i=6;i<9;i++)
            {
                for(let j=0;j<3;j++)
                {
                    if(reg.test(arr[i][j]))
                    ar1.push(arr[i][j]);
                }
            }
        }
        else if(v==8)
        {
            for(let i=6;i<9;i++)
            {
                for(let j=3;j<6;j++)
                {
                    if(reg.test(arr[i][j]))
                    ar1.push(arr[i][j]);
                }
            }
        }
        else
        {
            for(let i=6;i<9;i++)
            {
                for(let j=6;j<9;j++)
                {
                    if(reg.test(arr[i][j]))
                    ar1.push(arr[i][j]);
                }
            }
        }
        return ar1.sort();
    }
    function get_cordinate(row,col)
    {
        if(row>=0 && row<=2)
        {
            if(col>=0 && col<=2)
            return 1;
            else if(col>=3 && col<=5)
            return 2;
            else
            return 3;
        }
        else if(row>=3 && row<=5)
        {
            if(col>=0 && col<=2)
            return 4;
            else if(col>=3 && col<=5)
            return 5;
            else
            return 6;
        }
        else
        {
            if(col>=0 && col<=2)
            return 7;
            else if(col>=3 && col<=5)
            return 8;
            else
            return 9;
        }
    }
   
    
 </script>
</head>
<body>
    <br>
    <div id="timer"></div>
    <br>
    <div id="container">
        <input type="text" id="1"> <input type="text" id="2"> <input type="text" id="3"> <div>8</div> <input type="text" id="4"> <input type="text" id="5"> <input type="text" id="6"> <input type="text" id="7"> <input type="text" id="8">
        <div>7</div> <div>8</div> <div>9</div> <input type="text" id="9"> <div>1</div> <input type="text" id="10"> <input type="text" id="11"> <input type="text" id="12"> <div>6</div>
        <input type="text" id="13"> <input type="text" id="14"> <input type="text" id="15"> <input type="text" id="16"> <input type="text" id="17"> <div>6</div> <div>1</div> <input type="text" id="18"> <input type="text" id="19">
        <input type="text" id="20"> <input type="text" id="21"> <div>7</div> <input type="text" id="22"> <input type="text" id="23"> <input type="text" id="24"> <input type="text" id="25"> <div>5</div> <input type="text" id="26">
        <div>5</div> <input type="text" id="27"> <div>8</div> <div>7</div> <input type="text" id="28"> <div>9</div> <div>3</div> <input type="text" id="29"> <div>4</div>
        <input type="text" id="30"> <div>4</div> <input type="text" id="31"> <input type="text" id="32"> <input type="text" id="33"> <input type="text" id="34"> <div>2</div> <input type="text" id="35"> <input type="text" id="36">
        <input type="text" id="37"> <input type="text" id="38"> <div>3</div> <div>2</div> <input type="text" id="39"> <input type="text" id="40"> <input type="text" id="41"> <input type="text" id="42"> <input type="text" id="43">
        <div>8</div> <input type="text" id="44"> <input type="text" id="45"> <input type="text" id="46"> <div>7</div> <input type="text" id="47"> <div>4</div> <div>3</div> <div>9</div>
        <input type="text" id="48"> <input type="text" id="49"> <input type="text" id="50"> <input type="text" id="51"> <input type="text" id="52"> <div>1</div> <input type="text" id="53"> <input type="text" id="54"> <input type="text" id="55">
    </div>   
    <br>
    <button onclick="fun1()" id="submit">Submit</button>
    <button onclick="fun2()" id="check">Check</button>
    <div id="submit1" class="box">
        <img src="sad.jpg" class="boximg">
        <p id="ps1" class="boxp"></p>
    </div>
    <div id="submit2" class="box">
        <img src="yeah.jpg" class="boximg">
        <p id="ps2" class="boxp"></p>
    </div>
    <div id="check1" class="box">
        <img src="goahed.jpg" class="boximg">
        <p id="pc1" class="boxp"></p>
    </div>
    <div id="check2" class="box">
        <img src="sad.jpg" class="boximg">
        <p id="pc2" class="boxp"></p>
    </div>
</body>
</html>
